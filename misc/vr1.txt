vr1  205.147.105.160  ubuntu server 14.04 64bit

root     / <on file>
jhancock / <on file>
mhd		 / <on file>

# as root
apt-get update
apt-get -y upgrade
# possibly needs a reboot

# set timezone to 'Etc/UTC'
dpkg-reconfigure tzdata

# set hostname - already set
#sudo vim /etc/hostname
#hostname -F /etc/hostname

# edit /etc/hosts  add:
50.116.1.15  lin1

# add jhancock & mhd users and give sudo
adduser jhancock
adduser jhancock sudo
adduser mhd
adduser mhd sudo

# install an editor - already installed
#sudo apt-get install -y vim-nox

# setup login keys for jhancock & mhd
mkdir ~/.ssh
chmod 700 ~/.ssh
# add public key, from client
scp ~/.ssh/new_jhancock.pub jhancock@vr1:~/.ssh
# back to server
cat ~/.ssh/new_jhancock.pub > ~/.ssh/authorized_keys 
chmod 600 ~/.ssh/authorized_keys 

# repeat above for user mhd

# edit /etc/ssh/sshd_config:
PermitRootLogin yes -> PermitRootLogin no
PasswordAuthentication yes -> PasswordAuthentication no

restart ssh

# byobu - already installed
byobu-config  # choose to enable byobu at login
# F-9 -> Change Escape Sequence, set to Ctr-S so Ctr-A works for beginning of line

# install nginx
sudo apt-get install nginx
# create /etc/nginx/sites-available/shellshadow.com

# install dev tools
sudo apt-get install build-essential openssl libreadline6 libreadline6-dev curl git zlib1g zlib1g-dev libssl-dev libyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev autoconf libc6-dev ncurses-dev automake libtool bison pkg-config htop e2fslibs-dev

#HERE
# install tarsnap
cd ~/download
wget https://www.tarsnap.com/download/tarsnap-autoconf-1.0.35.tgz .
sudo make all install clean
# cp tarsnap.conf.sample
# generate key for vr1
# test

# enable access to lin1 and bitbucket
# edit ~/.ssh/config see misc/server/misc/ssh_config

Host bitbucket.org
  Compression yes
  HostName bitbucket.org
  IdentityFile ~/.ssh/bitbucket_jhancock




